<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario animal</title>
</head>
<body>
    <h3>Introduzca su informacion</h3>
    <label for="">Nombre: </label>
    <input type="text" name="nombre">
    <br>
    <br>
    <label for="">Sexo: </label>
    <input type="radio" name="sexo" value="F">F
    <input type="radio" name="sexo" value="M">M
    <br>
    <br>
    <label for="">NÃºmero de registro: </label>
    <input type="number" name="numreg">
    
    <script type="module">
        import {getAnimal} from "../service/animalService.js" // destructing

        function init() {
            const url = new URLSearchParams(window.location.search);
            let idAnimal = url.get('identificador');

            console.log(idAnimal);

            if (idAnimal) {
                const animal = getAnimal(parseInt(idAnimal));

                console.log(animal);

                document.querySelector("input[name='nombre']").value = animal.name;
                document.querySelector("input[name='numreg']").value = animal.registerNumber;
                document.querySelector("input[name='sexo'][value='"+animal.sex+"']").checked = true;
            }
        }

        // window.addEventListener('load', init);
        (function() {
            init();
        })();
    </script>
</body>
</html>